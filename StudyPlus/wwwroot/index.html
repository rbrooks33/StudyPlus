<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Study Plus</title>
    <link rel='manifest' href='manifest.json'>
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
    <script src="Scripts/Apps/Apps.js"></script>
    <script src="pwabuilder-sw-register.js"></script>
    <script>
        Apps.ComponentsReady = function () {
            //Apps.Notify('info', 'Ready! (See console for details.)');
            Apps.Components.Login.Show();

            let StudyBook = {
                Docs: [],
                Tags: [
                    { TagID: 3 }
                ],
                Span: null,
                TagOperator: 1
            };

            Apps.Post2('/api/Docs/GetStudyBook', JSON.stringify(StudyBook),
                function (result) {

                if (result.Success) {

                    let watchtowerList = '<table>';
                    $.each(result.Data.Docs, function (index, doc) {
                        watchtowerList += '<tr>';
                        watchtowerList += '  <td>' + doc.DocTitle + '</td>';
                        watchtowerList += '</tr>';
                    });

                    watchtowerList += '</table>';
                    
                    let bookHtml = Apps.Util.GetHTML('templateStudyBook',
                        [
                            'Study Watchtowers',
                            'A personal collection of all my Watchtowers.',
                            watchtowerList
                        ]);

                    $(document.body).append(bookHtml);


                }
                else
                    Apps.Notify('warning', 'A problem occurred on the server. Please check out the logs to see what happened.');
            });

        }
    </script>
    <link href="index.css" rel="stylesheet" />
</head>
<body>


</body>
</html>